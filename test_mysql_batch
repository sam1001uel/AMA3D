CREATE TABLE IF NOT EXISTS TriggeringCondition (
  id INT NOT NULL,
  Parameters VARCHAR(45) NOT NULL,
  idTaskResource INT REFERENCES TasResource(id) ON DELETE RESTRICT,
  idAgent INT REFERENCES Agent(id) ON DELETE RESTRICT,
  IsLast BOOLEAN NOT NULL,
  Status VARCHAR(45) NOT NULL,
  PRIMARY KEY (id) AUTO_INCREMENT
);
  
CREATE TABLE IF NOT EXISTS Agent (
  id            INT PRIMARY KEY AUTO_INCREMENT,
  ParentID      INT REFERENCES Agent(id) ON DELETE RESTRICT,
  RegisterTime  DATETIME NOT NULL,
  StartTime     DATETIME NOT NULL,
  Status        INT NOT NULL,
  NumTaskDone   INT NOT NULL,
  ProcessID     INT NOT NULL
  PRIMARY KEY (id) AUTO_INCREMENT
);
  
CREATE TABLE IF NOT EXISTS TaskResource(
  id INT NOT NULL,
  Codepath VARCHAR(45) NOT NULL,
  Version VARCHAR(45) NOT NULL,
  CPU VARCHAR(45) NOT NULL,
  RAM VARCHAR(45) NOT NULL,
  numTimesExecuted INT NOT NULL,
  PRIMARY KEY (id) AUTO_INCREMENT
);
